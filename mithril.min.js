new function(){function x(a,d,l,f,g,k){return{tag:a,key:d,attrs:l,children:f,text:g,dom:k,domSize:void 0,state:{},events:void 0,instance:void 0,skip:!1,reuse:!0}}function B(a){if(null==a||"string"!==typeof a&&"function"!==typeof a&&"function"!==typeof a.view)throw Error("The selector must be either a string or a component.");if("string"===typeof a&&void 0===I[a]){for(var d,l,f=[],g={};d=O.exec(a);){var k=d[1],h=d[2];""===k&&""!==h?l=h:"#"===k?g.id=h:"."===k?f.push(h):"["===d[3][0]&&((k=d[6])&&(k=
k.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===d[4]?f.push(k):g[d[4]]=k||!0)}0<f.length&&(g.className=f.join(" "));I[a]=function(a,d){var f=!1,c,k,q=a.className||a["class"],y;for(y in g)a[y]=g[y];void 0!==q&&(void 0!==a["class"]&&(a["class"]=void 0,a.className=q),void 0!==g.className&&(a.className=g.className+" "+q));for(y in a)if("key"!==y){f=!0;break}Array.isArray(d)&&1==d.length&&null!=d[0]&&"#"===d[0].tag?k=d[0].children:c=d;return x(l||"div",a.key,f?a:void 0,c,k,void 0)}}var r;
null==arguments[1]||"object"===typeof arguments[1]&&void 0===arguments[1].tag&&!Array.isArray(arguments[1])?(r=arguments[1],f=2):f=1;if(arguments.length===f+1)d=Array.isArray(arguments[f])?arguments[f]:[arguments[f]];else for(d=[];f<arguments.length;f++)d.push(arguments[f]);return"string"===typeof a?I[a](r||{},x.normalizeChildren(d)):x(a,r&&r.key,r||{},x.normalizeChildren(d),void 0,void 0)}function P(a){var d=0,l=null,f="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var g=
Date.now();0===d||16<=g-d?(d=g,a()):null===l&&(l=f(function(){l=null;a();d=Date.now()},16-(g-d)))}}x.normalize=function(a){return Array.isArray(a)?x("[",void 0,void 0,x.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?x("#",void 0,void 0,!1===a?"":a,void 0,void 0):a};x.normalizeChildren=function(a){for(var d=0;d<a.length;d++)a[d]=x.normalize(a[d]);return a};var O=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,I={};B.trust=function(a){null==a&&(a="");
return x("<",void 0,void 0,a,void 0,void 0)};B.fragment=function(a,d){return x("[",a.key,a,x.normalizeChildren(d),void 0,void 0)};var A=function(a){function d(a,c){return function w(d){var h;try{if(!c||null==d||"object"!==typeof d&&"function"!==typeof d||"function"!==typeof(h=d.then))m(function(){c||0!==a.length||console.error("Possible unhandled promise rejection:",d);for(var f=0;f<a.length;f++)a[f](d);g.length=0;k.length=0;q.state=c;q.retry=function(){w(d)}});else{if(d===f)throw new TypeError("Promise can't be resolved w/ itself");
l(h.bind(d))}}catch(Q){r(Q)}}}function l(a){function c(c){return function(a){0<d++||c(a)}}var d=0,f=c(r);try{a(c(h),f)}catch(y){f(y)}}if(!(this instanceof A))throw Error("Promise must be called with `new`");if("function"!==typeof a)throw new TypeError("executor must be a function");var f=this,g=[],k=[],h=d(g,!0),r=d(k,!1),q=f._instance={resolvers:g,rejectors:k},m="function"===typeof setImmediate?setImmediate:setTimeout;l(a)};A.prototype.then=function(a,d){function l(a,d,l,h){d.push(function(c){if("function"!==
typeof a)l(c);else try{g(a(c))}catch(v){k&&k(v)}});"function"===typeof f.retry&&h===f.state&&f.retry()}var f=this._instance,g,k,h=new A(function(a,d){g=a;k=d});l(a,f.resolvers,g,!0);l(d,f.rejectors,k,!1);return h};A.prototype["catch"]=function(a){return this.then(null,a)};A.resolve=function(a){return a instanceof A?a:new A(function(d){d(a)})};A.reject=function(a){return new A(function(d,l){l(a)})};A.all=function(a){return new A(function(d,l){var f=a.length,g=0,k=[];if(0===a.length)d([]);else for(var h=
0;h<a.length;h++)(function(h){function q(a){g++;k[h]=a;g===f&&d(k)}null==a[h]||"object"!==typeof a[h]&&"function"!==typeof a[h]||"function"!==typeof a[h].then?q(a[h]):a[h].then(q,l)})(h)})};A.race=function(a){return new A(function(d,l){for(var f=0;f<a.length;f++)a[f].then(d,l)})};"undefined"!==typeof window?("undefined"===typeof window.Promise&&(window.Promise=A),A=window.Promise):"undefined"!==typeof global&&("undefined"===typeof global.Promise&&(global.Promise=A),A=global.Promise);var E=function(a){function d(a,
f){if(Array.isArray(f))for(var g=0;g<f.length;g++)d(a+"["+g+"]",f[g]);else if("[object Object]"===Object.prototype.toString.call(f))for(g in f)d(a+"["+g+"]",f[g]);else l.push(encodeURIComponent(a)+(null!=f&&""!==f?"="+encodeURIComponent(f):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";var l=[],f;for(f in a)d(f,a[f]);return l.join("&")},R=/^file:\/\//i,K=function(a,d){function l(){function c(){0===--a&&"function"===typeof u&&u()}var a=0;return function y(d){var f=d.then;d.then=
function(){a++;var g=f.apply(d,arguments);g.then(c,function(d){c();if(0===a)throw d;});return y(g)};return d}}function f(c,a){if("string"===typeof c){var d=c;c=a||{};null==c.url&&(c.url=d)}return c}function g(c,a){if(null==a)return c;for(var d=c.match(/:[^\/]+/gi)||[],f=0;f<d.length;f++){var g=d[f].slice(1);null!=a[g]&&(c=c.replace(d[f],a[g]))}return c}function k(c,a){var d=E(a);if(""!==d){var f=0>c.indexOf("?")?"?":"&";c+=f+d}return c}function h(c){try{return""!==c?JSON.parse(c):null}catch(v){throw Error(c);
}}function r(c){return c.responseText}function q(c,a){if("function"===typeof c)if(Array.isArray(a))for(var d=0;d<a.length;d++)a[d]=new c(a[d]);else return new c(a);return a}var m=0,u;return{request:function(c,m){var u=l();c=f(c,m);var y=new d(function(d,f){null==c.method&&(c.method="GET");c.method=c.method.toUpperCase();var l="GET"===c.method||"TRACE"===c.method?!1:"boolean"===typeof c.useBody?c.useBody:!0;"function"!==typeof c.serialize&&(c.serialize="undefined"!==typeof FormData&&c.data instanceof
FormData?function(a){return a}:JSON.stringify);"function"!==typeof c.deserialize&&(c.deserialize=h);"function"!==typeof c.extract&&(c.extract=r);c.url=g(c.url,c.data);l?c.data=c.serialize(c.data):c.url=k(c.url,c.data);var m=new a.XMLHttpRequest,u=!1,y=m.abort;m.abort=function(){u=!0;y.call(m)};m.open(c.method,c.url,"boolean"===typeof c.async?c.async:!0,"string"===typeof c.user?c.user:void 0,"string"===typeof c.password?c.password:void 0);c.serialize===JSON.stringify&&l&&m.setRequestHeader("Content-Type",
"application/json; charset=utf-8");c.deserialize===h&&m.setRequestHeader("Accept","application/json, text/*");c.withCredentials&&(m.withCredentials=c.withCredentials);for(var v in c.headers)({}).hasOwnProperty.call(c.headers,v)&&m.setRequestHeader(v,c.headers[v]);"function"===typeof c.config&&(m=c.config(m,c)||m);m.onreadystatechange=function(){if(!u&&4===m.readyState)try{var a=c.extract!==r?c.extract(m,c):c.deserialize(c.extract(m,c));if(200<=m.status&&300>m.status||304===m.status||R.test(c.url))d(q(c.type,
a));else{var n=Error(m.responseText),b;for(b in a)n[b]=a[b];f(n)}}catch(e){f(e)}};l&&null!=c.data?m.send(c.data):m.send()});return!0===c.background?y:u(y)},jsonp:function(c,h){var u=l();c=f(c,h);var r=new d(function(d,f){var l=c.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+m++,h=a.document.createElement("script");a[l]=function(f){h.parentNode.removeChild(h);d(q(c.type,f));delete a[l]};h.onerror=function(){h.parentNode.removeChild(h);f(Error("JSONP request failed"));delete a[l]};null==
c.data&&(c.data={});c.url=g(c.url,c.data);c.data[c.callbackKey||"callback"]=l;h.src=k(c.url,c.data);a.document.documentElement.appendChild(h)});return!0===c.background?r:u(r)},setCompletionCallback:function(a){u=a}}}(window,A),N=function(a){function d(n,b,e,a,c,d,f){for(;e<a;e++){var p=b[e];null!=p&&l(n,p,c,f,d)}}function l(n,b,e,a,c){var p=b.tag;b.reuse=!0;if("string"===typeof p)switch(null!=b.attrs&&H(b.attrs,b,e),p){case "#":return b.dom=t.createTextNode(b.children),m(n,b.dom,c),b.dom;case "<":return f(n,
b,c);case "[":var h=t.createDocumentFragment();null!=b.children&&(p=b.children,d(h,p,0,p.length,e,null,a),b.reuse=b.reuse&&0!==p.length&&p[0].reuse);b.dom=h.firstChild;b.domSize=h.childNodes.length;m(n,h,c);return h;default:var q=b.tag;switch(b.tag){case "svg":a="http://www.w3.org/2000/svg";break;case "math":a="http://www.w3.org/1998/Math/MathML"}var k=(p=b.attrs)&&p.is,q=a?k?t.createElementNS(a,q,{is:k}):t.createElementNS(a,q):k?t.createElement(q,{is:k}):t.createElement(q);b.dom=q;if(null!=p)for(h in k=
a,p)y(b,h,null,p[h],k);A(b)&&(b.reuse=!1);m(n,q,c);null!=b.attrs&&null!=b.attrs.contenteditable?u(b):(null!=b.text&&(""!==b.text?q.textContent=b.text:b.children=[x("#",void 0,void 0,b.text,void 0,void 0)]),null!=b.children&&(n=b.children,d(q,n,0,n.length,e,null,a),n=b.attrs,"select"===b.tag&&null!=n&&("value"in n&&y(b,"value",null,n.value,void 0),"selectedIndex"in n&&y(b,"selectedIndex",null,n.selectedIndex,void 0))));return q}else{g(b,e);if(null!=b.instance){if(b.instance===b)throw Error("A view cannot return the vnode it received as arguments");
e=l(n,b.instance,e,a,c);b.dom=b.instance.dom;b.domSize=null!=b.dom?b.instance.domSize:0;m(n,e,c);b=e}else b.domSize=0,b=E;return b}}function f(n,b,a){var e={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(b.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",e=t.createElement(e);e.innerHTML=b.children;b.dom=e.firstChild;b.domSize=e.childNodes.length;b.reuse=!1;b=t.createDocumentFragment();for(var c;c=e.firstChild;)b.appendChild(c);
m(n,b,a);return b}function g(n,b){var a;if("function"===typeof n.tag){n.state=null;a=n.tag;if(null!=a.$$reentrantLock$$)return E;a.$$reentrantLock$$=!0;n.state=null!=n.tag.prototype&&"function"===typeof n.tag.prototype.view?new n.tag(n):n.tag(n)}else{n.state=Object.create(n.tag);a=n.state.view;if(null!=a.$$reentrantLock$$)return E;a.$$reentrantLock$$=!0}null!=n.attrs&&H(n.attrs,n,b);H(n.state,n,b);n.instance=x.normalize(n.state.view(n));a.$$reentrantLock$$=null}function k(a,b,e,f,g,k,u){if(b!==e&&
(null!=b||null!=e))if(null==b)d(a,e,0,e.length,g,k,void 0);else if(null==e)c(b,0,b.length,e);else{if(b.length===e.length){for(var n=!1,p=0;p<e.length;p++)if(null!=e[p]&&null!=b[p]){n=null==e[p].key&&null==b[p].key;break}if(n){for(p=0;p<b.length;p++)b[p]!==e[p]&&(null==b[p]&&null!=e[p]?l(a,e[p],g,u,q(b,p+1,k)):null==e[p]?c(b,p,p+1,e):h(a,b[p],e[p],g,q(b,p+1,k),f,u));return}}if(!f)a:{if(null!=b.pool&&Math.abs(b.pool.length-e.length)<=Math.abs(b.length-e.length)&&(f=e[0]&&e[0].children&&e[0].children.length||
0,Math.abs((b.pool[0]&&b.pool[0].children&&b.pool[0].children.length||0)-f)<=Math.abs((b[0]&&b[0].children&&b[0].children.length||0)-f))){f=!0;break a}f=!1}if(f){var D=b.pool;b=b.concat(b.pool)}for(var p=n=0,v=b.length-1,y=e.length-1,w;v>=n&&y>=p;){var z=b[n],t=e[p];if(z!==t||f)if(null==z)n++;else if(null==t)p++;else if(z.key===t.key){var C=null!=D&&n>=b.length-D.length||null==D&&f;n++;p++;h(a,z,t,g,q(b,n,k),C,u);f&&z.tag===t.tag&&m(a,r(z),k)}else if(z=b[v],z!==t||f)if(null==z)v--;else if(null==t)p++;
else if(z.key===t.key)C=null!=D&&v>=b.length-D.length||null==D&&f,h(a,z,t,g,q(b,v+1,k),C,u),(f||p<y)&&m(a,r(z),q(b,n,k)),v--,p++;else break;else v--,p++;else n++,p++}for(;v>=n&&y>=p;){z=b[v];t=e[y];if(z!==t||f)if(null==z)v--;else{if(null!=t)if(z.key===t.key)C=null!=D&&v>=b.length-D.length||null==D&&f,h(a,z,t,g,q(b,v+1,k),C,u),f&&z.tag===t.tag&&m(a,r(z),k),null!=z.dom&&(k=z.dom),v--;else{if(!w){w=b;var z=v,C={},G;for(G=0;G<z;G++){var x=w[G];null!=x&&(x=x.key,null!=x&&(C[x]=G))}w=C}null!=t&&(z=w[t.key],
null!=z?(C=b[z],h(a,C,t,g,q(b,v+1,k),f,u),m(a,r(C),k),b[z].skip=!0,null!=C.dom&&(k=C.dom)):k=l(a,t,g,void 0,k))}y--}else v--,y--;if(y<p)break}d(a,e,p,y+1,g,k,u);c(b,n,v+1,e)}}function h(a,b,e,c,d,q,m){if(q&&!b.reuse)return l(a,e,c,m,d);var n=b.tag;if(n===e.tag){e.state=b.state;e.events=b.events;e.reuse=b.reuse;var p;if(p=!q){var t,D;null!=e.attrs&&"function"===typeof e.attrs.onbeforeupdate&&(e.reuse=!1,t=e.attrs.onbeforeupdate.call(e.state,e,b));"string"!==typeof e.tag&&"function"===typeof e.state.onbeforeupdate&&
(e.reuse=!1,D=e.state.onbeforeupdate(e,b));void 0===t&&void 0===D||t||D?p=!1:(e.dom=b.dom,e.domSize=b.domSize,e.instance=b.instance,p=!0)}if(!p)if("string"===typeof n)switch(null!=e.attrs&&(q?H(e.attrs,e,c):J(e.attrs,e,c)),n){case "#":b.children.toString()!==e.children.toString()&&(b.dom.nodeValue=e.children);e.dom=b.dom;break;case "<":b.children!==e.children?(r(b),f(a,e,d)):(e.dom=b.dom,e.domSize=b.domSize);break;case "[":k(a,b.children,e.children,q,c,d,m);b=0;c=e.children;e.dom=null;if(null!=c){for(q=
0;q<c.length;q++){var w=c[q];null!=w&&null!=w.dom&&(null==e.dom&&(e.dom=w.dom),b+=w.domSize||1)}1!==b&&(e.domSize=b)}break;default:a=m;d=e.dom=b.dom;switch(e.tag){case "svg":a="http://www.w3.org/2000/svg";break;case "math":a="http://www.w3.org/1998/Math/MathML"}"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));m=b.attrs;n=e.attrs;p=a;if(null!=n)for(w in n)y(e,w,m&&m[w],n[w],p);if(null!=m)for(w in m)null!=n&&w in n||("className"===w&&(w="class"),"o"!==
w[0]||"n"!==w[1]||M(w)?"key"!==w&&e.dom.removeAttribute(w):B(e,w,void 0));null!=e.attrs&&null!=e.attrs.contenteditable?u(e):null!=b.text&&null!=e.text&&""!==e.text?b.text.toString()!==e.text.toString()&&(b.dom.firstChild.nodeValue=e.text):(null!=b.text&&(b.children=[x("#",void 0,void 0,b.text,void 0,b.dom.firstChild)]),null!=e.text&&(e.children=[x("#",void 0,void 0,e.text,void 0,void 0)]),k(d,b.children,e.children,q,c,null,a))}else q?g(e,c):(e.instance=x.normalize(e.state.view(e)),null!=e.attrs&&
J(e.attrs,e,c),J(e.state,e,c)),null!=e.instance?(null==b.instance?l(a,e.instance,c,m,d):h(a,b.instance,e.instance,c,d,q,m),e.dom=e.instance.dom,e.domSize=e.instance.domSize,e.reuse=e.instance.reuse&&e.reuse):null!=b.instance?(v(b.instance,null),e.dom=void 0,e.domSize=0):(e.dom=b.dom,e.domSize=b.domSize)}else v(b,null),l(a,e,c,m,d)}function r(a){var b=a.domSize;if(null!=b||null==a.dom){var c=t.createDocumentFragment();if(0<b){for(a=a.dom;--b;)c.appendChild(a.nextSibling);c.insertBefore(a,c.firstChild)}return c}return a.dom}
function q(a,b,c){for(;b<a.length;b++)if(null!=a[b]&&null!=a[b].dom)return a[b].dom;return c}function m(a,b,c){c&&c.parentNode?a.insertBefore(b,c):a.appendChild(b)}function u(a){var b=a.children;if(null!=b&&1===b.length&&"<"===b[0].tag)b=b[0].children,a.dom.innerHTML!==b&&(a.dom.innerHTML=b);else if(null!=a.text||null!=b&&0!==b.length)throw Error("Child node of a contenteditable must be trusted");}function c(a,b,c,d){for(;b<c;b++){var n=a[b];null!=n&&(n.skip?n.skip=!1:v(n,d))}}function v(a,b){function c(){if(++d===
n&&(w(a),a.dom)){var c=a.domSize||1;if(1<c)for(var e=a.dom;--c;){var f=e.nextSibling,p=f.parentNode;null!=p&&p.removeChild(f)}c=a.dom;e=c.parentNode;null!=e&&e.removeChild(c);null!=b&&a.reuse&&(b.pool?b.pool.push(a):b.pool=[a])}}var n=1,d=0;if(a.attrs&&a.attrs.onbeforeremove){a.reuse=!1;var f=a.attrs.onbeforeremove.call(a.state,a);null!=f&&"function"===typeof f.then&&(n++,f.then(c,c))}"string"!==typeof a.tag&&a.state.onbeforeremove&&(a.reuse=!1,f=a.state.onbeforeremove(a),null!=f&&"function"===typeof f.then&&
(n++,f.then(c,c)));c()}function w(a){a.attrs&&a.attrs.onremove&&(a.reuse=!1,a.attrs.onremove.call(a.state,a));"string"!==typeof a.tag&&a.state.onremove&&(a.reuse=!1,a.state.onremove(a));if(null!=a.instance)w(a.instance);else if(a=a.children,Array.isArray(a))for(var b=0;b<a.length;b++){var c=a[b];null!=c&&w(c)}}function y(a,b,c,d,f){var e=a.dom;if("key"!==b&&"is"!==b&&(c!==d||"value"===b||"checked"===b||"selectedIndex"===b||"selected"===b&&a.dom===t.activeElement||"object"===typeof d)&&"undefined"!==
typeof d&&!M(b)){var n=b.indexOf(":");if(-1<n&&"xlink"===b.substr(0,n))e.setAttributeNS("http://www.w3.org/1999/xlink",b.slice(n+1),d);else if("o"===b[0]&&"n"===b[1]&&"function"===typeof d)B(a,b,d);else if("style"===b)if(a=c,a===d&&(e.style.cssText="",a=null),null==d)e.style.cssText="";else if("string"===typeof d)e.style.cssText=d;else{"string"===typeof a&&(e.style.cssText="");for(var g in d)e.style[g]=d[g];if(null!=a&&"string"!==typeof a)for(g in a)g in d||(e.style[g]="")}else b in e&&"href"!==b&&
"list"!==b&&"form"!==b&&"width"!==b&&"height"!==b&&void 0===f&&!A(a)?"input"===a.tag&&"value"===b&&a.dom.value==d&&a.dom===t.activeElement||"select"===a.tag&&"value"===b&&a.dom.value==d&&a.dom===t.activeElement||"option"===a.tag&&"value"===b&&a.dom.value==d||("input"===a.tag&&"type"===b?e.setAttribute(b,d):e[b]=d):"boolean"===typeof d?d?e.setAttribute(b,""):e.removeAttribute(b):e.setAttribute("className"===b?"class":b,d)}}function M(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===
a||"onbeforeremove"===a||"onbeforeupdate"===a}function A(a){return null!=a.attrs&&null!=a.attrs.is||-1<a.tag.indexOf("-")}function B(a,b,c){var e=a.dom,d="function"!==typeof F?c:function(a){var b=c.call(e,a);F.call(e,a);return b};if(b in e)e[b]="function"===typeof c?d:null;else{var f=b.slice(2);void 0===a.events&&(a.events={});a.events[b]!==d&&(null!=a.events[b]&&e.removeEventListener(f,a.events[b],!1),"function"===typeof c&&(a.events[b]=d,e.addEventListener(f,a.events[b],!1)))}}function H(a,b,c){"function"===
typeof a.oninit&&a.oninit.call(b.state,b);"function"===typeof a.oncreate&&(b.reuse=!1,c.push(a.oncreate.bind(b.state,b)))}function J(a,b,c){"function"===typeof a.onupdate&&(b.reuse=!1,c.push(a.onupdate.bind(b.state,b)))}var t=a.document,E=t.createDocumentFragment(),F;return{render:function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=[],d=t.activeElement;null==a.vnodes&&(a.textContent="");Array.isArray(b)||(b=[b]);k(a,a.vnodes,x.normalizeChildren(b),
!1,c,null,void 0);a.vnodes=b;for(var f=0;f<c.length;f++)c[f]();t.activeElement!==d&&d.focus()},setEventCallback:function(a){return F=a}}},F=function(a){function d(a){a=f.indexOf(a);-1<a&&f.splice(a,2)}function l(){for(var a=1;a<f.length;a+=2)f[a]()}a=N(a);a.setEventCallback(function(a){!1!==a.redraw&&l()});var f=[];return{subscribe:function(a,k){d(a);f.push(a,P(k))},unsubscribe:d,redraw:l,render:a.render}}(window);K.setCompletionCallback(F.redraw);B.mount=function(a){return function(d,l){if(null===
l)a.render(d,[]),a.unsubscribe(d);else{if(null==l.view&&"function"!==typeof l)throw Error("m.mount(element, component) expects a component, not a vnode");a.subscribe(d,function(){a.render(d,x(l))});a.redraw()}}}(F);var S=A,L=function(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var d={},l={},f=0;f<a.length;f++){var g=a[f].split("="),k=decodeURIComponent(g[0]),g=2===g.length?decodeURIComponent(g[1]):"";"true"===g?g=!0:"false"===g&&(g=!1);var h=k.split(/\]\[?|\[/),
r=d;-1<k.indexOf("[")&&h.pop();for(var q=0;q<h.length;q++){var k=h[q],m=h[q+1],m=""==m||!isNaN(parseInt(m,10)),u=q===h.length-1;""===k&&(k=h.slice(0,q).join(),null==l[k]&&(l[k]=0),k=l[k]++);null==r[k]&&(r[k]=u?g:m?[]:{});r=r[k]}}return d},T=function(a){function d(d){var f=a.location[d].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===d&&"/"!==f[0]&&(f="/"+f);return f}function l(a){return function(){null==h&&(h=k(function(){h=null;a()}))}}function f(a,d,f){var c=a.indexOf("?"),g=
a.indexOf("#"),k=-1<c?c:-1<g?g:a.length;if(-1<c){var c=L(a.slice(c+1,-1<g?g:a.length)),h;for(h in c)d[h]=c[h]}if(-1<g)for(h in d=L(a.slice(g+1)),d)f[h]=d[h];return a.slice(0,k)}var g="function"===typeof a.history.pushState,k="function"===typeof setImmediate?setImmediate:setTimeout,h,r={prefix:"#!",getPath:function(){switch(r.prefix.charAt(0)){case "#":return d("hash").slice(r.prefix.length);case "?":return d("search").slice(r.prefix.length)+d("hash");default:return d("pathname").slice(r.prefix.length)+
d("search")+d("hash")}},setPath:function(d,h,k){var c={},l={};d=f(d,c,l);if(null!=h){for(var m in h)c[m]=h[m];d=d.replace(/:([^\/]+)/g,function(a,d){delete c[d];return h[d]})}(m=E(c))&&(d+="?"+m);(l=E(l))&&(d+="#"+l);g?(l=k?k.state:null,m=k?k.title:null,a.onpopstate(),k&&k.replace?a.history.replaceState(l,m,r.prefix+d):a.history.pushState(l,m,r.prefix+d)):a.location.href=r.prefix+d},defineRoutes:function(d,k,h){function c(){var c=r.getPath(),g={},l=f(c,g,g),m=a.history.state;if(null!=m)for(var q in m)g[q]=
m[q];for(var u in d)if(m=new RegExp("^"+u.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),m.test(l)){l.replace(m,function(){for(var a=u.match(/:[^\/]+/g)||[],f=[].slice.call(arguments,1,-2),h=0;h<a.length;h++)g[a[h].replace(/:|\./g,"")]=decodeURIComponent(f[h]);k(d[u],g,c,u)});return}h(c,g)}g?a.onpopstate=l(c):"#"===r.prefix.charAt(0)&&(a.onhashchange=c);c()}};return r};B.route=function(a,d){var l=T(a),f=function(a){return a},g,k,h,r,q,m=function(a,c,m){if(null==a)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");
var u=function(){null!=g&&d.render(a,g(x(k,h.key,h)))},v=function(a){if(a!==c)l.setPath(c,null,{replace:!0});else throw Error("Could not resolve default route "+c);};l.defineRoutes(m,function(a,c,d){var l=q=function(a,m){l===q&&(k=null==m||"function"!==typeof m.view&&"function"!==typeof m?"div":m,h=c,r=d,q=null,g=(a.render||f).bind(a),u())};a.view||"function"===typeof a?l({},a):a.onmatch?S.resolve(a.onmatch(c,d)).then(function(c){l(a,c)},v):l(a,"div")},v);d.subscribe(a,u)};m.set=function(a,c,d){null!=
q&&(d={replace:!0});q=null;l.setPath(a,c,d)};m.get=function(){return r};m.prefix=function(a){l.prefix=a};m.link=function(a){a.dom.setAttribute("href",l.prefix+a.attrs.href);a.dom.onclick=function(a){a.ctrlKey||a.metaKey||a.shiftKey||2===a.which||(a.preventDefault(),a.redraw=!1,a=this.getAttribute("href"),0===a.indexOf(l.prefix)&&(a=a.slice(l.prefix.length)),m.set(a,void 0,void 0))}};m.param=function(a){return"undefined"!==typeof h&&"undefined"!==typeof a?h[a]:h};return m}(window,F);B.withAttr=function(a,
d,l){return function(f){d.call(l||this,a in f.currentTarget?f.currentTarget[a]:f.currentTarget.getAttribute(a))}};var U=N(window);B.render=U.render;B.redraw=F.redraw;B.request=K.request;B.jsonp=K.jsonp;B.parseQueryString=L;B.buildQueryString=E;B.version="1.0.1";B.vnode=x;"undefined"!==typeof module?module.exports=B:window.m=B};