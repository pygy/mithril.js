(function(){function t(a,b,f,h,n,k){return{tag:a,key:b,attrs:f,children:h,text:n,dom:k,domSize:void 0,state:void 0,events:void 0,instance:void 0,skip:!1}}function Q(a){for(var b in a)if(G.call(a,b))return!1;return!0}function x(a){var b=arguments[1],f=2;if(null==a||"string"!==typeof a&&"function"!==typeof a&&"function"!==typeof a.view)throw Error("The selector must be either a string or a component.");if("string"===typeof a){var h;if(!(h=R[a])){var n="div";for(var k=[],l={};h=V.exec(a);){var p=h[1],
r=h[2];""===p&&""!==r?n=r:"#"===p?l.id=r:"."===p?k.push(r):"["===h[3][0]&&((p=h[6])&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===h[4]?k.push(p):l[h[4]]=""===p?p:p||!0)}0<k.length&&(l.className=k.join(" "));h=R[a]={tag:n,attrs:l}}}if(null==b)b={};else if("object"!==typeof b||null!=b.tag||Array.isArray(b))b={},f=1;if(arguments.length===f+1)n=arguments[f],Array.isArray(n)||(n=[n]);else for(n=[];f<arguments.length;)n.push(arguments[f++]);f=t.normalizeChildren(n);if("string"===typeof a){n=
!1;var m,u;k=b.className||b["class"];if(!Q(h.attrs)&&!Q(b)){l={};for(var d in b)G.call(b,d)&&(l[d]=b[d]);b=l}for(d in h.attrs)G.call(h.attrs,d)&&(b[d]=h.attrs[d]);void 0!==k&&(void 0!==b["class"]&&(b["class"]=void 0,b.className=k),null!=h.attrs.className&&(b.className=h.attrs.className+" "+k));for(d in b)if(G.call(b,d)&&"key"!==d){n=!0;break}Array.isArray(f)&&1===f.length&&null!=f[0]&&"#"===f[0].tag?u=f[0].children:m=f;return t(h.tag,b.key,n?b:void 0,m,u)}return t(a,b.key,b,f)}function W(a){var b=
0,f=null,h="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var n=Date.now()-b;null===f&&(f=h(function(){f=null;a();b=Date.now()},16-n))}}t.normalize=function(a){return Array.isArray(a)?t("[",void 0,void 0,t.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?t("#",void 0,void 0,!1===a?"":a,void 0,void 0):a};t.normalizeChildren=function(a){for(var b=0;b<a.length;b++)a[b]=t.normalize(a[b]);return a};var V=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,
R={},G={}.hasOwnProperty;x.trust=function(a){null==a&&(a="");return t("<",void 0,void 0,a,void 0,void 0)};x.fragment=function(a,b){return t("[",a.key,a,t.normalizeChildren(b),void 0,void 0)};var B=function(a){function b(a,d){return function y(b){var A;try{if(!d||null==b||"object"!==typeof b&&"function"!==typeof b||"function"!==typeof(A=b.then))m(function(){d||0!==a.length||console.error("Possible unhandled promise rejection:",b);for(var f=0;f<a.length;f++)a[f](b);n.length=0;k.length=0;r.state=d;r.retry=
function(){y(b)}});else{if(b===h)throw new TypeError("Promise can't be resolved w/ itself");f(A.bind(b))}}catch(Y){p(Y)}}}function f(a){function d(d){return function(a){0<b++||d(a)}}var b=0,r=d(p);try{a(d(l),r)}catch(y){r(y)}}if(!(this instanceof B))throw Error("Promise must be called with `new`");if("function"!==typeof a)throw new TypeError("executor must be a function");var h=this,n=[],k=[],l=b(n,!0),p=b(k,!1),r=h._instance={resolvers:n,rejectors:k},m="function"===typeof setImmediate?setImmediate:
setTimeout;f(a)};B.prototype.then=function(a,b){function f(a,b,f,l){b.push(function(d){if("function"!==typeof a)f(d);else try{n(a(d))}catch(C){k&&k(C)}});"function"===typeof h.retry&&l===h.state&&h.retry()}var h=this._instance,n,k,l=new B(function(a,b){n=a;k=b});f(a,h.resolvers,n,!0);f(b,h.rejectors,k,!1);return l};B.prototype["catch"]=function(a){return this.then(null,a)};B.resolve=function(a){return a instanceof B?a:new B(function(b){b(a)})};B.reject=function(a){return new B(function(b,f){f(a)})};
B.all=function(a){return new B(function(b,f){var h=a.length,n=0,k=[];if(0===a.length)b([]);else for(var l=0;l<a.length;l++)(function(l){function r(a){n++;k[l]=a;n===h&&b(k)}null==a[l]||"object"!==typeof a[l]&&"function"!==typeof a[l]||"function"!==typeof a[l].then?r(a[l]):a[l].then(r,f)})(l)})};B.race=function(a){return new B(function(b,f){for(var h=0;h<a.length;h++)a[h].then(b,f)})};"undefined"!==typeof window?("undefined"===typeof window.Promise&&(window.Promise=B),B=window.Promise):"undefined"!==
typeof global&&("undefined"===typeof global.Promise&&(global.Promise=B),B=global.Promise);var F=function(a){function b(a,h){if(Array.isArray(h))for(var l=0;l<h.length;l++)b(a+"["+l+"]",h[l]);else if("[object Object]"===Object.prototype.toString.call(h))for(l in h)b(a+"["+l+"]",h[l]);else f.push(encodeURIComponent(a)+(null!=h&&""!==h?"="+encodeURIComponent(h):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";var f=[],h;for(h in a)b(h,a[h]);return f.join("&")},Z=/^file:\/\//i,O=
function(a,b){function f(){function d(){0===--a&&"function"===typeof u&&u()}var a=0;return function X(b){var f=b.then;b.then=function(){a++;var r=f.apply(b,arguments);r.then(d,function(b){d();if(0===a)throw b;});return X(r)};return b}}function h(d,a){if("string"===typeof d){var b=d;d=a||{};null==d.url&&(d.url=b)}return d}function n(d,a){if(null==a)return d;for(var b=d.match(/:[^\/]+/gi)||[],f=0;f<b.length;f++){var r=b[f].slice(1);null!=a[r]&&(d=d.replace(b[f],a[r]))}return d}function k(d,a){var b=
F(a);if(""!==b){var f=0>d.indexOf("?")?"?":"&";d+=f+b}return d}function l(d){try{return""!==d?JSON.parse(d):null}catch(C){throw Error(d);}}function p(d){return d.responseText}function r(d,a){if("function"===typeof d)if(Array.isArray(a))for(var b=0;b<a.length;b++)a[b]=new d(a[b]);else return new d(a);return a}var m=0,u;return{request:function(d,m){var A=f();d=h(d,m);var C=new b(function(b,f){null==d.method&&(d.method="GET");d.method=d.method.toUpperCase();var h="GET"===d.method||"TRACE"===d.method?
!1:"boolean"===typeof d.useBody?d.useBody:!0;"function"!==typeof d.serialize&&(d.serialize="undefined"!==typeof FormData&&d.data instanceof FormData?function(d){return d}:JSON.stringify);"function"!==typeof d.deserialize&&(d.deserialize=l);"function"!==typeof d.extract&&(d.extract=p);d.url=n(d.url,d.data);h?d.data=d.serialize(d.data):d.url=k(d.url,d.data);var m=new a.XMLHttpRequest,A=!1,C=m.abort;m.abort=function(){A=!0;C.call(m)};m.open(d.method,d.url,"boolean"===typeof d.async?d.async:!0,"string"===
typeof d.user?d.user:void 0,"string"===typeof d.password?d.password:void 0);d.serialize!==JSON.stringify||!h||d.headers&&d.headers.hasOwnProperty("Content-Type")||m.setRequestHeader("Content-Type","application/json; charset=utf-8");d.deserialize!==l||d.headers&&d.headers.hasOwnProperty("Accept")||m.setRequestHeader("Accept","application/json, text/*");d.withCredentials&&(m.withCredentials=d.withCredentials);for(var u in d.headers)({}).hasOwnProperty.call(d.headers,u)&&m.setRequestHeader(u,d.headers[u]);
"function"===typeof d.config&&(m=d.config(m,d)||m);m.onreadystatechange=function(){if(!A&&4===m.readyState)try{var a=d.extract!==p?d.extract(m,d):d.deserialize(d.extract(m,d));if(200<=m.status&&300>m.status||304===m.status||Z.test(d.url))b(r(d.type,a));else{var h=Error(m.responseText);h.code=m.status;h.response=a;f(h)}}catch(H){f(H)}};h&&null!=d.data?m.send(d.data):m.send()});return!0===d.background?C:A(C)},jsonp:function(d,l){var A=f();d=h(d,l);var p=new b(function(b,f){var h=d.callbackName||"_mithril_"+
Math.round(1E16*Math.random())+"_"+m++,l=a.document.createElement("script");a[h]=function(f){l.parentNode.removeChild(l);b(r(d.type,f));delete a[h]};l.onerror=function(){l.parentNode.removeChild(l);f(Error("JSONP request failed"));delete a[h]};null==d.data&&(d.data={});d.url=n(d.url,d.data);d.data[d.callbackKey||"callback"]=h;l.src=k(d.url,d.data);a.document.documentElement.appendChild(l)});return!0===d.background?p:A(p)},setCompletionCallback:function(d){u=d}}}(window,B),U=function(a){function b(g,
c){if(g.state!==c)throw Error("`vnode.state` must not be modified");}function f(g){var c=g.state;try{return this.apply(c,arguments)}finally{b(g,c)}}function h(g,c,e,d,a,b,f){for(;e<d;e++){var h=c[e];null!=h&&n(g,h,a,f,b)}}function n(g,c,e,a,b){var f=c.tag;if("string"===typeof f)switch(c.state={},null!=c.attrs&&K(c.attrs,c,e),f){case "#":return c.dom=D.createTextNode(c.children),d(g,c.dom,b),c.dom;case "<":return k(g,c,b);case "[":var r=D.createDocumentFragment();null!=c.children&&(f=c.children,h(r,
f,0,f.length,e,null,a));c.dom=r.firstChild;c.domSize=r.childNodes.length;d(g,r,b);return r;default:var q=c.tag,m=(f=c.attrs)&&f.is;q=(a=c.attrs&&c.attrs.xmlns||G[c.tag]||a)?m?D.createElementNS(a,q,{is:m}):D.createElementNS(a,q):m?D.createElement(q,{is:m}):D.createElement(q);c.dom=q;if(null!=f)for(r in m=a,f)J(c,r,null,f[r],m);d(g,q,b);null!=c.attrs&&null!=c.attrs.contenteditable?C(c):(null!=c.text&&(""!==c.text?q.textContent=c.text:c.children=[t("#",void 0,void 0,c.text,void 0,void 0)]),null!=c.children&&
(g=c.children,h(q,g,0,g.length,e,null,a),g=c.attrs,"select"===c.tag&&null!=g&&("value"in g&&J(c,"value",null,g.value,void 0),"selectedIndex"in g&&J(c,"selectedIndex",null,g.selectedIndex,void 0))));return q}else return l(c,e),null!=c.instance?(e=n(g,c.instance,e,a,b),c.dom=c.instance.dom,c.domSize=null!=c.dom?c.instance.domSize:0,d(g,e,b),c=e):(c.domSize=0,c=H),c}function k(g,c,e){var a={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||
[])[1]]||"div";a=D.createElement(a);a.innerHTML=c.children;c.dom=a.firstChild;c.domSize=a.childNodes.length;c=D.createDocumentFragment();for(var b;b=a.firstChild;)c.appendChild(b);d(g,c,e);return c}function l(g,c){if("function"===typeof g.tag.view){g.state=Object.create(g.tag);var e=g.state.view;if(null!=e.$$reentrantLock$$)return H;e.$$reentrantLock$$=!0}else{g.state=void 0;e=g.tag;if(null!=e.$$reentrantLock$$)return H;e.$$reentrantLock$$=!0;g.state=null!=g.tag.prototype&&"function"===typeof g.tag.prototype.view?
new g.tag(g):g.tag(g)}null!=g.attrs&&K(g.attrs,g,c);K(g.state,g,c);g.instance=t.normalize(f.call(g.state.view,g));if(g.instance===g)throw Error("A view cannot return the vnode it received as argument");e.$$reentrantLock$$=null}function p(g,c,e,a,b,f,l){if(!(c===e&&!a||null==c&&null==e))if(null==c)h(g,e,0,e.length,b,f,l);else if(null==e)A(c,0,c.length,e,a);else{for(var q=0,k=Math.min(c.length,e.length),p=c.length,C=!1,E;q<k;q++){if(null!=c[q]){E=null==c[q].key;break}if(null!=e[q]){E=null==e[q].key;
break}}if(E&&p===e.length)for(;q<p;q++)c[q]===e[q]&&!a||null==c[q]&&null==e[q]||(null==c[q]?n(g,e[q],b,l,u(c,q+1,p,f)):null==e[q]?A(c,q,q+1,e,a):r(g,c[q],e[q],b,u(c,q+1,p,f),a,l));else{a:{if(null!=c.pool&&Math.abs(c.pool.length-e.length)<=Math.abs(c.length-e.length)&&(k=e[0]&&e[0].children&&e[0].children.length||0,Math.abs((c.pool[0]&&c.pool[0].children&&c.pool[0].children.length||0)-k)<=Math.abs((c[0]&&c[0].children&&c[0].children.length||0)-k))){k=!0;break a}k=!1}k&&(C=!0,c=c.concat(c.pool));var v=
q;k=c.length-1;for(var t=e.length-1,I,w,z,y;k>=v&&t>=q;)if(w=c[v],z=e[q],y=C&&v>=p,w===z&&!y&&!a||null==w&&null==z)v++,q++;else if(null==w)E&&n(g,e[q],b,l,u(c,++q,p,f)),v++;else if(null==z)E&&(A(c,q,q+1,e,a),v++),q++;else if(w.key===z.key)v++,q++,r(g,w,z,b,u(c,v,p,f),y||a,l),y&&w.tag===z.tag&&d(g,m(z),f);else if(w=c[k],y=C&&k>=p,w!==z||y||a)if(null==w)k--;else if(null==z)q++;else if(w.key===z.key)r(g,w,z,b,u(c,k+1,p,f),y||a,l),(y&&w.tag===z.tag||q<t)&&d(g,m(z),u(c,v,p,f)),k--,q++;else break;else k--,
q++;for(;k>=v&&t>=q;){w=c[k];z=e[t];y=C&&k>=p;if(w!==z||y||a)if(null==w)k--;else{if(null!=z)if(w.key===z.key)r(g,w,z,b,u(c,k+1,p,f),y||a,l),y&&w.tag===z.tag&&d(g,m(z),f),null!=w.dom&&(f=w.dom),k--;else{if(!I){I=c;E=k;w={};for(y=0;y<E;y++){var x=I[y];null!=x&&(x=x.key,null!=x&&(w[x]=y))}I=w}null!=z&&(E=I[z.key],null!=E?(w=c[E],y=C&&E>=p,r(g,w,z,b,u(c,k+1,p,f),y||a,l),d(g,m(z),f),w.skip=!0,null!=w.dom&&(f=w.dom)):f=n(g,z,b,l,f))}t--}else k--,t--;if(t<q)break}h(g,e,q,t+1,b,f,l);A(c,v,Math.min(k+1,p),
e,a);if(C)for(g=Math.max(v,p);k>=g;k--)c[k].skip?c[k].skip=!1:B(c[k],e)}}}function r(g,c,e,a,d,b,h){var q=c.tag;if(q===e.tag){e.state=c.state;e.events=c.events;var A;if(A=!b){var u,E;null!=e.attrs&&"function"===typeof e.attrs.onbeforeupdate&&(u=f.call(e.attrs.onbeforeupdate,e,c));"string"!==typeof e.tag&&"function"===typeof e.state.onbeforeupdate&&(E=f.call(e.state.onbeforeupdate,e,c));void 0===u&&void 0===E||u||E?A=!1:(e.dom=c.dom,e.domSize=c.domSize,e.instance=c.instance,A=!0)}if(!A)if("string"===
typeof q)switch(null!=e.attrs&&(b?(e.state={},K(e.attrs,e,a)):M(e.attrs,e,a)),q){case "#":c.children.toString()!==e.children.toString()&&(c.dom.nodeValue=e.children);e.dom=c.dom;break;case "<":c.children!==e.children?(m(c),k(g,e,d)):(e.dom=c.dom,e.domSize=c.domSize);break;case "[":p(g,c.children,e.children,b,a,d,h);c=0;a=e.children;e.dom=null;if(null!=a){for(b=0;b<a.length;b++){var v=a[b];null!=v&&null!=v.dom&&(null==e.dom&&(e.dom=v.dom),c+=v.domSize||1)}1!==c&&(e.domSize=c)}break;default:g=e.dom=
c.dom;h=e.attrs&&e.attrs.xmlns||G[e.tag]||h;"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));d=c.attrs;q=e.attrs;A=h;if(null!=q)for(v in q)J(e,v,d&&d[v],q[v],A);if(null!=d)for(v in d)null!=q&&v in q||("className"===v&&(v="class"),"o"!==v[0]||"n"!==v[1]||S(v)?"key"!==v&&e.dom.removeAttribute(v):T(e,v,void 0));null!=e.attrs&&null!=e.attrs.contenteditable?C(e):null!=c.text&&null!=e.text&&""!==e.text?c.text.toString()!==e.text.toString()&&(c.dom.firstChild.nodeValue=
e.text):(null!=c.text&&(c.children=[t("#",void 0,void 0,c.text,void 0,c.dom.firstChild)]),null!=e.text&&(e.children=[t("#",void 0,void 0,e.text,void 0,void 0)]),p(g,c.children,e.children,b,a,null,h))}else{if(b)l(e,a);else{e.instance=t.normalize(f.call(e.state.view,e));if(e.instance===e)throw Error("A view cannot return the vnode it received as argument");null!=e.attrs&&M(e.attrs,e,a);M(e.state,e,a)}null!=e.instance?(null==c.instance?n(g,e.instance,a,h,d):r(g,c.instance,e.instance,a,d,b,h),e.dom=e.instance.dom,
e.domSize=e.instance.domSize):null!=c.instance?(y(c.instance,null,b),e.dom=void 0,e.domSize=0):(e.dom=c.dom,e.domSize=c.domSize)}}else y(c,null,b),n(g,e,a,h,d)}function m(g){var c=g.domSize;if(null!=c||null==g.dom){var a=D.createDocumentFragment();if(0<c){for(g=g.dom;--c;)a.appendChild(g.nextSibling);a.insertBefore(g,a.firstChild)}return a}return g.dom}function u(g,c,a,d){for(;c<a;c++)if(null!=g[c]&&null!=g[c].dom)return g[c].dom;return d}function d(g,c,a){a?g.insertBefore(c,a):g.appendChild(c)}function C(g){var c=
g.children;if(null!=c&&1===c.length&&"<"===c[0].tag)c=c[0].children,g.dom.innerHTML!==c&&(g.dom.innerHTML=c);else if(null!=g.text||null!=c&&0!==c.length)throw Error("Child node of a contenteditable must be trusted");}function A(g,c,a,d,b){for(;c<a;c++){var e=g[c];null!=e&&(e.skip?e.skip=!1:y(e,d,b))}}function y(a,c,d){function g(){if(++h===e&&(d||(b(a,r),x(a)),a.dom)){var g=a.domSize||1;if(1<g)for(var f=a.dom;--g;){var q=f.nextSibling,k=q.parentNode;null!=k&&k.removeChild(q)}g=a.dom;f=g.parentNode;
null!=f&&f.removeChild(g);B(a,c)}}var e=1,h=0,r=a.state;if(!d){if(a.attrs&&"function"===typeof a.attrs.onbeforeremove){var k=f.call(a.attrs.onbeforeremove,a);null!=k&&"function"===typeof k.then&&(e++,k.then(g,g))}"string"!==typeof a.tag&&"function"===typeof a.state.onbeforeremove&&(k=f.call(a.state.onbeforeremove,a),null!=k&&"function"===typeof k.then&&(e++,k.then(g,g)))}g()}function B(a,c){var g;if(g=null!=c&&null==a.domSize)g=a.attrs,g=!(null!=g&&(g.oncreate||g.onupdate||g.onbeforeremove||g.onremove));
g&&"string"===typeof a.tag&&(c.pool?c.pool.push(a):c.pool=[a])}function x(a){a.attrs&&"function"===typeof a.attrs.onremove&&f.call(a.attrs.onremove,a);if("string"!==typeof a.tag)"function"===typeof a.state.onremove&&f.call(a.state.onremove,a),null!=a.instance&&x(a.instance);else if(a=a.children,Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];null!=d&&x(d)}}function J(a,c,d,b,f){if("key"!==c&&"is"!==c&&!S(c)){if("o"===c[0]&&"n"===c[1])return T(a,c,b);if((d!==b||"value"===c||"checked"===c||
"selectedIndex"===c||"selected"===c&&a.dom===D.activeElement||a.dom.parentNode===D.activeElement||"object"===typeof b)&&void 0!==b){var g=a.dom;if("xlink:"===c.slice(0,6))g.setAttributeNS("http://www.w3.org/1999/xlink",c,b);else if("style"===c)if(a=d,null!=a&&null!=b&&"object"===typeof a&&"object"===typeof b&&b!==a){for(var e in b)b[e]!==a[e]&&(g.style[e]=b[e]);for(e in a)e in b||(g.style[e]="")}else if(a===b&&(g.style.cssText="",a=null),null==b)g.style.cssText="";else if("string"===typeof b)g.style.cssText=
b;else for(e in"string"===typeof a&&(g.style.cssText=""),b)g.style[e]=b[e];else if(c in g&&"href"!==c&&"list"!==c&&"form"!==c&&"width"!==c&&"height"!==c&&void 0===f&&!(a.attrs.is||-1<a.tag.indexOf("-"))){if("value"===c){e=""+b;if(("input"===a.tag||"textarea"===a.tag)&&a.dom.value===e&&a.dom===D.activeElement)return;if("select"===a.tag)if(null===b){if(-1===a.dom.selectedIndex&&a.dom===D.activeElement)return}else if(null!==d&&a.dom.value===e&&a.dom===D.activeElement)return;if("option"===a.tag&&null!=
d&&a.dom.value===e)return}"input"===a.tag&&"type"===c?g.setAttribute(c,b):g[c]=b}else"boolean"===typeof b?b?g.setAttribute(c,""):g.removeAttribute(c):g.setAttribute("className"===c?"class":c,b)}}}function S(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===a||"onbeforeremove"===a||"onbeforeupdate"===a}function N(){}function T(a,c,d){null!=a.events?a.events[c]!==d&&(null==d||"function"!==typeof d&&"object"!==typeof d?(null!=a.events[c]&&a.dom.removeEventListener(c.slice(2),a.events,
!1),a.events[c]=void 0):(null==a.events[c]&&a.dom.addEventListener(c.slice(2),a.events,!1),a.events[c]=d)):null==d||"function"!==typeof d&&"object"!==typeof d||(a.events=new N,a.dom.addEventListener(c.slice(2),a.events,!1),a.events[c]=d)}function K(a,c,d){"function"===typeof a.oninit&&f.call(a.oninit,c);"function"===typeof a.oncreate&&d.push(f.bind(a.oncreate,c))}function M(a,c,d){"function"===typeof a.onupdate&&d.push(f.bind(a.onupdate,c))}var D=a.document,H=D.createDocumentFragment(),G={svg:"http://www.w3.org/2000/svg",
math:"http://www.w3.org/1998/Math/MathML"},F;N.prototype=Object.create(null);N.prototype.handleEvent=function(a){var c=this["on"+a.type];"function"===typeof c?c.call(a.target,a):"function"===typeof c.handleEvent&&c.handleEvent(a);"function"===typeof F&&F.call(a.target,a)};return{render:function(a,c){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var d=[],b=D.activeElement,g=a.namespaceURI;null==a.vnodes&&(a.textContent="");Array.isArray(c)||
(c=[c]);p(a,a.vnodes,t.normalizeChildren(c),!1,d,null,"http://www.w3.org/1999/xhtml"===g?void 0:g);a.vnodes=c;null!=b&&D.activeElement!==b&&b.focus();for(b=0;b<d.length;b++)d[b]()},setEventCallback:function(a){return F=a}}},L=function(a,b){function f(a){a=k.indexOf(a);-1<a&&k.splice(a,2)}function h(){if(l)throw Error("Nested m.redraw.sync() call");l=!0;for(var a=1;a<k.length;a+=2)try{k[a]()}catch(m){"undefined"!==typeof console&&console.error(m)}l=!1}var n=U(a);n.setEventCallback(function(a){!1===
a.redraw?a.redraw=void 0:p()});var k=[],l=!1,p=(b||W)(h);p.sync=h;return{subscribe:function(a,b){f(a);k.push(a,b)},unsubscribe:f,redraw:p,render:n.render}}(window);O.setCompletionCallback(L.redraw);x.mount=function(a){return function(b,f){if(null===f)a.render(b,[]),a.unsubscribe(b);else{if(null==f.view&&"function"!==typeof f)throw Error("m.mount(element, component) expects a component, not a vnode");var h=function(){a.render(b,t(f))};a.subscribe(b,h);h()}}}(L);var aa=B,P=function(a){if(""===a||null==
a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var b={},f={},h=0;h<a.length;h++){var n=a[h].split("="),k=decodeURIComponent(n[0]);n=2===n.length?decodeURIComponent(n[1]):"";"true"===n?n=!0:"false"===n&&(n=!1);var l=k.split(/\]\[?|\[/),p=b;-1<k.indexOf("[")&&l.pop();for(var r=0;r<l.length;r++){k=l[r];var m=l[r+1];m=""==m||!isNaN(parseInt(m,10));var u=r===l.length-1;""===k&&(k=l.slice(0,r).join(),null==f[k]&&(f[k]=0),k=f[k]++);null==p[k]&&(p[k]=u?n:m?[]:{});p=p[k]}}return b},ba=function(a){function b(b){var f=
a.location[b].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===b&&"/"!==f[0]&&(f="/"+f);return f}function f(a){return function(){null==l&&(l=k(function(){l=null;a()}))}}function h(a,b,f){var d=a.indexOf("?"),h=a.indexOf("#"),k=-1<d?d:-1<h?h:a.length;if(-1<d){d=P(a.slice(d+1,-1<h?h:a.length));for(var l in d)b[l]=d[l]}if(-1<h)for(l in b=P(a.slice(h+1)),b)f[l]=b[l];return a.slice(0,k)}var n="function"===typeof a.history.pushState,k="function"===typeof setImmediate?setImmediate:setTimeout,
l,p={prefix:"#!",getPath:function(){switch(p.prefix.charAt(0)){case "#":return b("hash").slice(p.prefix.length);case "?":return b("search").slice(p.prefix.length)+b("hash");default:return b("pathname").slice(p.prefix.length)+b("search")+b("hash")}},setPath:function(b,f,k){var d={},l={};b=h(b,d,l);if(null!=f){for(var m in f)d[m]=f[m];b=b.replace(/:([^\/]+)/g,function(a,b){delete d[b];return f[b]})}(m=F(d))&&(b+="?"+m);(l=F(l))&&(b+="#"+l);n?(l=k?k.state:null,m=k?k.title:null,a.onpopstate(),k&&k.replace?
a.history.replaceState(l,m,p.prefix+b):a.history.pushState(l,m,p.prefix+b)):a.location.href=p.prefix+b},defineRoutes:function(b,k,l){function d(){var d=p.getPath(),f={},m=h(d,f,f),n=a.history.state;if(null!=n)for(var r in n)f[r]=n[r];for(var t in b)if(n=new RegExp("^"+t.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),n.test(m)){m.replace(n,function(){for(var a=t.match(/:[^\/]+/g)||[],h=[].slice.call(arguments,1,-2),l=0;l<a.length;l++)f[a[l].replace(/:|\./g,"")]=decodeURIComponent(h[l]);
k(b[t],f,d,t)});return}l(d,f)}n?a.onpopstate=f(d):"#"===p.prefix.charAt(0)&&(a.onhashchange=d);d()}};return p};x.route=function(a,b){var f=ba(a),h=function(a){return a},n,k,l,p,r,m=function(a,m,A){function d(){null!=n&&b.render(a,n(t(k,l.key,l)))}if(null==a)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");var u=function(){d();u=b.redraw};b.subscribe(a,d);var x=function(a){if(a!==m)f.setPath(m,null,{replace:!0});else throw Error("Could not resolve default route "+
m);};f.defineRoutes(A,function(a,d,b){var f=r=function(a,m){f===r&&(k=null==m||"function"!==typeof m.view&&"function"!==typeof m?"div":m,l=d,p=b,r=null,n=(a.render||h).bind(a),u())};a.view||"function"===typeof a?f({},a):a.onmatch?aa.resolve(a.onmatch(d,b)).then(function(d){f(a,d)},x):f(a,"div")},x)};m.set=function(a,b,h){null!=r&&(h=h||{},h.replace=!0);r=null;f.setPath(a,b,h)};m.get=function(){return p};m.prefix=function(a){f.prefix=a};var u=function(a,b){b.dom.setAttribute("href",f.prefix+b.attrs.href);
b.dom.onclick=function(b){b.ctrlKey||b.metaKey||b.shiftKey||2===b.which||(b.preventDefault(),b.redraw=!1,b=this.getAttribute("href"),0===b.indexOf(f.prefix)&&(b=b.slice(f.prefix.length)),m.set(b,void 0,a))}};m.link=function(a){return null==a.tag?u.bind(u,a):u({},a)};m.param=function(a){return"undefined"!==typeof l&&"undefined"!==typeof a?l[a]:l};return m}(window,L);x.withAttr=function(a,b,f){return function(h){b.call(f||this,a in h.currentTarget?h.currentTarget[a]:h.currentTarget.getAttribute(a))}};
var ca=U(window);x.render=ca.render;x.redraw=L.redraw;x.request=O.request;x.jsonp=O.jsonp;x.parseQueryString=P;x.buildQueryString=F;x.version="1.1.3";x.vnode=t;"undefined"!==typeof module?module.exports=x:window.m=x})();